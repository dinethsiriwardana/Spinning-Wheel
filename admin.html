<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin - Update Items</title>
    <style>
      body {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        font-family: Arial, sans-serif;
      }
      .form {
        --background: #d3d3d3;
        --input-focus: #2d8cf0;
        --font-color: #323232;
        --font-color-sub: #666;
        --bg-color: #fff;
        --main-color: #323232;
        padding: 20px;
        background: var(--background);
        display: flex;
        flex-wrap: wrap;
        width: 80%;
        align-items: flex-start;
        justify-content: center;
        gap: 5px;
        border-radius: 5px;
        border: 2px solid var(--main-color);
        box-shadow: 4px 4px var(--main-color);
        font-size: larger;
      }

      .button {
        --bg: #000;
        --hover-bg: #ff90e8;
        --hover-text: #000;
        color: #fff;
        cursor: pointer;
        border: 1px solid var(--bg);
        border-radius: 4px;
        padding: 0.8em 2em;
        background: var(--bg);
        transition: 0.2s;
      }

      .button:hover {
        color: var(--hover-text);
        transform: translate(-0.25rem, -0.25rem);
        background: var(--hover-bg);
        box-shadow: 0.25rem 0.25rem var(--bg);
      }

      .button:active {
        transform: translate(0);
        box-shadow: none;
      }

      .flexdiv {
        display: flex;
        flex-wrap: wrap;
      }

      .form input {
        width: 80%;
        display: flex;
      }

      .form input {
        border: #000;
        font-size: medium;
        margin-top: 2px;

        display: grid;
      }
      .form input label {
        border: #000;
        font-size: medium;
        margin-top: 10px;
        display: grid;
      }
    </style>
  </head>
  <body>
    <h1>Dashboard</h1>
    <form class="form" id="updateForm">
      <div class="flexdiv">
        <fieldset>
          <!-- Item 1 -->
          <label for="text1">Item1 Text:</label>
          <input type="text" id="text1" name="text1" /><br /><br />

          <label for="img1">Item1 Image:</label>
          <select id="img1" name="img1">
            <option value="">None</option>
            <option value="images/pack.png">Pack</option>
            <option value="images/mug.png">Mug</option>
            <option value="images/umbrella.png">Umbrella</option>
            <option value="images/Hebl.png">Hrbl</option>
            <option value="images/tshirt.png">Tshirt</option></select
          ><br /><br />

          <label for="stock1">Item1 Stock Count:</label>
          <input type="number" id="stock1" name="stock1" min="0" /><br /><br />
        </fieldset>
        <fieldset>
          <!-- Item 2 -->
          <label for="text2">Item2 Text:</label>
          <input type="text" id="text2" name="text2" /><br /><br />

          <label for="img2">Item2 Image:</label>
          <select id="img2" name="img2">
            <option value="">None</option>
            <option value="images/pack.png">Pack</option>
            <option value="images/mug.png">Mug</option>
            <option value="images/umbrella.png">Umbrella</option>
            <option value="images/Hebl.png">Hrbl</option>
            <option value="images/tshirt.png">Tshirt</option></select
          ><br /><br />

          <label for="stock2">Item2 Stock Count:</label>
          <input type="number" id="stock2" name="stock2" min="0" /><br /><br />
        </fieldset>
        <fieldset>
          <!-- Item 3 -->
          <label for="text3">Item3 Text:</label>
          <input type="text" id="text3" name="text3" /><br /><br />

          <label for="img3">Item3 Image:</label>
          <select id="img3" name="img3">
            <option value="">None</option>
            <option value="images/pack.png">Pack</option>
            <option value="images/mug.png">Mug</option>
            <option value="images/umbrella.png">Umbrella</option>
            <option value="images/Hebl.png">Hrbl</option>
            <option value="images/tshirt.png">Tshirt</option></select
          ><br /><br />

          <label for="stock3">Item3 Stock Count:</label>
          <input type="number" id="stock3" name="stock3" min="0" /><br /><br />
        </fieldset>
        <fieldset>
          <!-- Item 4 -->
          <label for="text4">Item4 Text:</label>
          <input type="text" id="text4" name="text4" /><br /><br />

          <label for="img4">Item4 Image:</label>
          <select id="img4" name="img4">
            <option value="">None</option>
            <option value="images/pack.png">Pack</option>
            <option value="images/mug.png">Mug</option>
            <option value="images/umbrella.png">Umbrella</option>
            <option value="images/Hebl.png">Hrbl</option>
            <option value="images/tshirt.png">Tshirt</option></select
          ><br /><br />

          <label for="stock4">Item4 Stock Count:</label>
          <input type="number" id="stock4" name="stock4" min="0" /><br /><br />
        </fieldset>
        <fieldset>
          <!-- Item 5 -->
          <label for="text5">Item5 Text:</label>
          <input type="text" id="text5" name="text5" /><br /><br />

          <label for="img5">Item5 Image:</label>
          <select id="img5" name="img5">
            <option value="">None</option>
            <option value="images/pack.png">Pack</option>
            <option value="images/mug.png">Mug</option>
            <option value="images/umbrella.png">Umbrella</option>
            <option value="images/Hebl.png">Hrbl</option>
            <option value="images/tshirt.png">Tshirt</option></select
          ><br /><br />

          <label for="stock5">Item5 Stock Count:</label>
          <input type="number" id="stock5" name="stock5" min="0" /><br /><br />
        </fieldset>
        <fieldset>
          <!-- Item 6 -->
          <label for="text6">Item6 Text:</label>
          <input type="text" id="text6" name="text6" /><br /><br />

          <label for="img6">Item6 Image:</label>
          <select id="img6" name="img6">
            <option value="">None</option>
            <option value="images/pack.png">Pack</option>
            <option value="images/mug.png">Mug</option>
            <option value="images/umbrella.png">Umbrella</option>
            <option value="images/Hebl.png">Hrbl</option>
            <option value="images/tshirt.png">Tshirt</option></select
          ><br /><br />

          <label for="stock6">Item6 Stock Count:</label>
          <input type="number" id="stock6" name="stock6" min="0" /><br /><br />
        </fieldset>
        <fieldset>
          <!-- Item 7 -->
          <label for="text7">Item7 Text:</label>
          <input type="text" id="text7" name="text7" /><br /><br />

          <label for="img7">Item7 Image:</label>
          <select id="img7" name="img7">
            <option value="">None</option>
            <option value="images/pack.png">Pack</option>
            <option value="images/mug.png">Mug</option>
            <option value="images/umbrella.png">Umbrella</option>
            <option value="images/Hebl.png">Hrbl</option>
            <option value="images/tshirt.png">Tshirt</option></select
          ><br /><br />

          <label for="stock7">Item7 Stock Count:</label>
          <input type="number" id="stock7" name="stock7" min="0" /><br /><br />
        </fieldset>
        <fieldset>
          <!-- Item 8 -->
          <label for="text8">Item8 Text:</label>
          <input type="text" id="text8" name="text8" /><br /><br />

          <label for="img8">Item8 Image:</label>
          <select id="img8" name="img8">
            <option value="">None</option>
            <option value="images/pack.png">Pack</option>
            <option value="images/mug.png">Mug</option>
            <option value="images/umbrella.png">Umbrella</option>
            <option value="images/Hebl.png">Hrbl</option>
            <option value="images/tshirt.png">Tshirt</option></select
          ><br /><br />

          <label for="stock8">Item8 Stock Count:</label>
          <input type="number" id="stock8" name="stock8" min="0" /><br /><br />
        </fieldset>

        <fieldset>
          <!-- Item 9 -->
          <label for="text9">Item9 Text:</label>
          <input type="text" id="text9" name="text9" /><br /><br />

          <label for="img9">Item9 Image:</label>
          <select id="img9" name="img9">
            <option value="">None</option>
            <option value="images/pack.png">Pack</option>
            <option value="images/mug.png">Mug</option>
            <option value="images/umbrella.png">Umbrella</option>
            <option value="images/Hebl.png">Hrbl</option>
            <option value="images/tshirt.png">Tshirt</option></select
          ><br /><br />

          <label for="stock9">Item9 Stock Count:</label>
          <input type="number" id="stock9" name="stock9" min="0" /><br /><br />
        </fieldset>
        <fieldset>
          <!-- Item 10 -->
          <label for="text10">Item10 Text:</label>
          <input type="text" id="text10" name="text10" /><br /><br />

          <label for="img10">Item10 Image:</label>
          <select id="img10" name="img10">
            <option value="">None</option>
            <option value="images/pack.png">Pack</option>
            <option value="images/mug.png">Mug</option>
            <option value="images/umbrella.png">Umbrella</option>
            <option value="images/Hebl.png">Hrbl</option>
            <option value="images/tshirt.png">Tshirt</option></select
          ><br /><br />

          <label for="stock10">Item10 Stock Count:</label>
          <input
            type="number"
            id="stock10"
            name="stock10"
            min="0"
          /><br /><br />
        </fieldset>
        <fieldset>
          <!-- Item 11 -->
          <label for="text11">Item11 Text:</label>
          <input type="text" id="text11" name="text11" /><br /><br />

          <label for="img11">Item11 Image:</label>
          <select id="img11" name="img11">
            <option value="">None</option>
            <option value="images/pack.png">Pack</option>
            <option value="images/mug.png">Mug</option>
            <option value="images/umbrella.png">Umbrella</option>
            <option value="images/Hebl.png">Hrbl</option>
            <option value="images/tshirt.png">Tshirt</option></select
          ><br /><br />

          <label for="stock11">Item11 Stock Count:</label>
          <input
            type="number"
            id="stock11"
            name="stock11"
            min="0"
          /><br /><br />
        </fieldset>
      </div>
      <button class="button" type="submit">Submit</button>
      <button class="button" type="button" onclick="resetData()">Reset</button>
    </form>
    <h1>Please Refresh The Page for Latest Updates.</h1>

    <script>
      let data = [
        { label: "Item1", text: "", img: null, stock: 0 },
        { label: "Item2", text: "", img: null, stock: 0 },
        { label: "Item3", text: "", img: null, stock: 0 },
        { label: "Item4", text: "", img: null, stock: 0 },
        { label: "Item5", text: "", img: null, stock: 0 },
        { label: "Item6", text: "", img: null, stock: 0 },
        { label: "Item7", text: "", img: null, stock: 0 },
        { label: "Item8", text: "", img: null, stock: 0 },
        { label: "Item9", text: "", img: null, stock: 0 },
        { label: "Item10", text: "", img: null, stock: 0 },
        { label: "Item11", text: "", img: null, stock: 0 },
      ];

      // Function to load data from local storage
      function loadData() {
        const storedData = localStorage.getItem("data");
        if (storedData) {
          data = JSON.parse(storedData);
        }
      }

      // Function to handle form submission and update data
      function handleFormSubmit(event) {
        event.preventDefault(); // Prevent the default form submission

        // Loop through items (assuming 8 items)
        for (let i = 1; i <= 8; i++) {
          const label = `Item${i}`;
          const text = document.getElementById(`text${i}`).value;
          const img = document.getElementById(`img${i}`).value || null;
          const stock =
            parseInt(document.getElementById(`stock${i}`).value, 10) || 0;

          // Update the corresponding item in the data array
          const itemIndex = data.findIndex((item) => item.label === label);
          if (itemIndex !== -1) {
            data[itemIndex] = { ...data[itemIndex], text, img, stock };
          }
        }

        // Save updated data to local storage
        localStorage.setItem("data", JSON.stringify(data));

        // Alert the updated data
        alert(`Data submitted: \n${JSON.stringify(data, null, 2)}`);
      }

      // Load data on page load
      window.onload = loadData;

      // Attach the form submit event handler
      document
        .getElementById("updateForm")
        .addEventListener("submit", handleFormSubmit);

      // Function to populate the form with current data
      function populateForm() {
        data.forEach((item, index) => {
          document.getElementById(`text${index + 1}`).value = item.text;
          document.getElementById(`img${index + 1}`).value = item.img || "";
          document.getElementById(`stock${index + 1}`).value = item.stock;
        });
      }

      // Populate form with existing data on page load
      window.onload = () => {
        loadData();
        populateForm();
      };

      // Function to reset form and clear local storage
      function resetData() {
        // Clear local storage
        localStorage.removeItem("data");

        // Reset form fields
        document
          .querySelectorAll(
            '#updateForm input[type="text"], #updateForm select, #updateForm input[type="number"]'
          )
          .forEach((input) => {
            input.value = "";
          });
      }

      function loadData() {
        // Retrieve data from local storage
        const storedData = localStorage.getItem("data");
        if (storedData) {
          // Parse the stored data
          const data = JSON.parse(storedData);

          // Populate form fields with the data
          data.forEach((item, index) => {
            document.getElementById(`text${index + 1}`).value = item.text || "";
            document.getElementById(`img${index + 1}`).value = item.img || "";
            document.getElementById(`stock${index + 1}`).value =
              item.stock || "";
          });
        }
      }

      // Call the loadData function when the page loads
      window.onload = loadData;
    </script>
  </body>
</html>
